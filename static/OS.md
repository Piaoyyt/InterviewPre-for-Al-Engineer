# 计算机操作系统核心知识点



## <a id = 'ProThread'></a>1.进程和线程
### <a id="Concept"></a>1.1.概念
- 进程
  > 所谓的进程可以理解为计算机里面的程序，是操作系统分配资源的基本单位，即对于每一个进程，
  > 计算机会给其分配一块程序空间（由用户空间和内核空间构成），也即我们称之的虚拟内存空间，为什么称为虚拟内存空间，是
  > 因为对于用户程序来说，计算机的所有的内存都是可用的，而给程序提供的空间只是一个虚拟的地址，
  > 即不是真正意义上的物理内存空间，这块虚拟内存空间必须通过内存管理单元才能映射到实际的物理
  > 空间里面去。这样做的话相当于对实际的内存做了一个封装，避免程序直接对物理内存进行操作避免
  > 一些错误，使得内存能够得到更好的管理。
- 线程
  > 线程是依赖于进程的，即一个进程里面可以存在多个线程，线程可以看作是进程里面不同的工作流，即负责
  > 一个程序里面不同子模块功能的部分，比如QQ里面负责发送信息和窗口、负责加好友的功能等，同一个进程
  > 里面的不同线程会共用这个进程里面的代码块、数据块、文件等资源，同时也会有自己的寄存器、栈空间。
- 两者之间的主要区别  
  1. 进程为资源分配的单元，可以理解为进程是获取整块内存空间的合法申请者；而线程是调度的基本单位，可以
  理解为是能够被系统调度即被系统掌控的单位（协程是线程里面更轻量级的，受程序里面的线程库函数控制，对于
  系统来说是直接控制不了的）。
  2. 每一个进程都有独立的内存空间，但是同一个进程里面的线程会共用进程里面的代码、数据、文件部分，仅仅
  部分比如寄存器、栈空间是独自拥有的。
  3. 由于进程的空间是独立的，所以在进程进行切换的时候需要去切换页表，即经过内存管理单元去查询，查询不到
  的话还会发生缺页异常，会从内存里面再去发生页面的置换，而同一个进程的线程是共用进程的空间的，所以线程切换
  不需要去查询和置换，所以进程的上下文切换比线程的上下文切换更耗时。
  4. 进程之间的通信都需要经过内核，因为不是同一个内存空间里面，需要内核参与去通信；而同一个进程里面的线程
  通信不需要经过内核。
